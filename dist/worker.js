!function(t){function e(i){if(n[i])return n[i].exports;var a=n[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=8)}([function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"c",function(){return r}),n.d(e,"b",function(){return s}),n.d(e,"e",function(){return o}),n.d(e,"f",function(){return u}),n.d(e,"h",function(){return h}),n.d(e,"g",function(){return l}),n.d(e,"d",function(){return p});var i=n(1),a=32,r=a*a,s=a*a*a,o=6,u=2400,h=2,l=Uint32Array.BYTES_PER_ELEMENT*h,c=(Uint32Array.BYTES_PER_ELEMENT,{T:{name:"TOP",id:0,axis:1,axisDelta:1,verts:[0,1,1,1,1,1,1,1,0,0,1,0],dx:0,dy:1,dz:0,size:a,deltaIndex:1},B:{name:"BOTTOM",id:1,axis:1,axisDelta:-1,verts:[0,0,0,1,0,0,1,0,1,0,0,1],dx:0,dy:-1,dz:0,size:a,deltaIndex:-1},N:{name:"NORTH",id:2,axis:2,axisDelta:1,verts:[1,0,1,1,1,1,0,1,1,0,0,1],dx:0,dy:0,dz:1,size:a,deltaIndex:a},S:{name:"SOUTH",id:3,axis:2,axisDelta:-1,verts:[0,0,0,0,1,0,1,1,0,1,0,0],dx:0,dy:0,dz:-1,size:a,deltaIndex:-a},E:{name:"EAST",id:4,axis:0,axisDelta:1,verts:[1,0,0,1,1,0,1,1,1,1,0,1],dx:1,dy:0,dz:0,size:a,deltaIndex:r},W:{name:"WEST",id:5,axis:0,axisDelta:-1,verts:[0,0,1,0,1,1,0,1,0,0,0,0],dx:-1,dy:0,dz:0,size:a,deltaIndex:-r}});for(var d in c){var f=c[d];f.deltaV3=new i.a(f.dx,f.dy,f.dz)}c.T.tangents=[{side:c.N,tangents:[c.E,c.W]},{side:c.E,tangents:[c.S,c.N]},{side:c.S,tangents:[c.W,c.E]},{side:c.W,tangents:[c.N,c.S]}],c.B.tangents=[{side:c.S,tangents:[c.W,c.E]},{side:c.E,tangents:[c.S,c.N]},{side:c.N,tangents:[c.E,c.W]},{side:c.W,tangents:[c.N,c.S]}],c.N.tangents=[{side:c.E,tangents:[c.T,c.B]},{side:c.T,tangents:[c.E,c.W]},{side:c.W,tangents:[c.B,c.T]},{side:c.B,tangents:[c.W,c.E]}],c.S.tangents=[{side:c.W,tangents:[c.B,c.T]},{side:c.T,tangents:[c.E,c.W]},{side:c.E,tangents:[c.T,c.B]},{side:c.B,tangents:[c.W,c.E]}],c.E.tangents=[{side:c.S,tangents:[c.T,c.B]},{side:c.T,tangents:[c.N,c.S]},{side:c.N,tangents:[c.B,c.T]},{side:c.B,tangents:[c.S,c.N]}],c.W.tangents=[{side:c.N,tangents:[c.B,c.T]},{side:c.T,tangents:[c.N,c.S]},{side:c.S,tangents:[c.T,c.B]},{side:c.B,tangents:[c.S,c.N]}],c.T.opposite=c.B,c.B.opposite=c.T,c.N.opposite=c.S,c.S.opposite=c.N,c.E.opposite=c.W,c.W.opposite=c.E;var p={byName:{TOP:c.T,BOTTOM:c.B,NORTH:c.N,SOUTH:c.S,EAST:c.E,WEST:c.W},byId:[c.T,c.B,c.N,c.S,c.E,c.W],byAxis:[[c.E,c.W],[c.T,c.B],[c.N,c.S]],each:function(t){for(var e=0;e<6;e+=1)t(p.byId[e])}}},function(t,e,n){"use strict";var i=function(){function t(t,e,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),this.a=new Float32Array([t,e,n])}return Object.defineProperty(t.prototype,"x",{get:function(){return this.a[0]},set:function(t){this.a[0]=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.a[1]},set:function(t){this.a[1]=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"z",{get:function(){return this.a[2]},set:function(t){this.a[2]=t},enumerable:!0,configurable:!0}),t.prototype.clone=function(){return new t(this.a[0],this.a[1],this.a[2])},t.prototype.set=function(t,e,n){return this.a[0]=t,this.a[1]=e,this.a[2]=n,this},t.prototype.setFrom=function(t){return this.a[0]=t.a[0],this.a[1]=t.a[1],this.a[2]=t.a[2],this},t.prototype.setSum=function(t,e){return this.a[0]=t.a[0]+e.a[0],this.a[1]=t.a[1]+e.a[1],this.a[2]=t.a[2]+e.a[2],this},t.prototype.toString=function(){return this.a[0]+","+this.a[1]+","+this.a[2]},Object.defineProperty(t.prototype,"id",{get:function(){return this.a[0]+","+this.a[1]+","+this.a[2]},enumerable:!0,configurable:!0}),t.prototype.lengthSqr=function(){var t=this.a[0],e=this.a[1],n=this.a[2];return t*t+e*e+n*n},t.prototype.length=function(){return Math.sqrt(this.lengthSqr())},t.prototype.ceil=function(){return this.a[0]=Math.ceil(this.a[0]),this.a[1]=Math.ceil(this.a[1]),this.a[2]=Math.ceil(this.a[2]),this},t.prototype.floor=function(){return this.a[0]=Math.floor(this.a[0]),this.a[1]=Math.floor(this.a[1]),this.a[2]=Math.floor(this.a[2]),this},t.prototype.negate=function(){return this.a[0]=-this.a[0],this.a[1]=-this.a[1],this.a[2]=-this.a[2],this},t.prototype.invert=function(){return this.a[0]=1/this.a[0],this.a[1]=1/this.a[1],this.a[2]=1/this.a[2],this},t.prototype.normalize=function(){var t=this.lengthSqr();return t>0&&this.multiplyScalar(1/Math.sqrt(t)),this},t.prototype.multiplyScalar=function(t){return this.a[0]*=t,this.a[1]*=t,this.a[2]*=t,this},t.prototype.divideScalar=function(t){return this.a[0]/=t,this.a[1]/=t,this.a[2]/=t,this},t.prototype.add=function(t){return this.a[0]+=t.a[0],this.a[1]+=t.a[1],this.a[2]+=t.a[2],this},t.prototype.subtract=function(t){return this.a[0]-=t.a[0],this.a[1]-=t.a[1],this.a[2]-=t.a[2],this},t.prototype.multiply=function(t){return this.a[0]*=t.a[0],this.a[1]*=t.a[1],this.a[2]*=t.a[2],this},t.prototype.divide=function(t){return this.a[0]/=t.a[0],this.a[1]/=t.a[1],this.a[2]/=t.a[2],this},t.prototype.dot=function(t){return this.a[0]*t.a[0]+this.a[1]*t.a[1]+this.a[2]*t.a[2]},t.prototype.cross=function(t){var e=this.a[0],n=this.a[1],i=this.a[2],a=t.a[0],r=t.a[1],s=t.a[2];return this.a[0]=n*s-i*r,this.a[1]=i*a-e*s,this.a[2]=e*r-n*a,this},t.prototype.lerp=function(t,e){var n=this.a[0],i=this.a[1],a=this.a[2];return this.a[0]=i+e*(t.a[0]-n),this.a[1]=a+e*(t.a[1]-i),this.a[2]=n+e*(t.a[2]-a),this},t.prototype.exactEquals=function(t){return this.a[0]===t.a[0]&&this.a[1]===t.a[1]&&this.a[2]===t.a[2]},t.prototype.equals=function(t){var e=this.a[0],n=this.a[1],i=this.a[2],a=t.a[0],r=t.a[1],s=t.a[2];return Math.abs(e-a)<=1e-6*Math.max(1,Math.abs(e),Math.abs(a))&&Math.abs(n-r)<=1e-6*Math.max(1,Math.abs(n),Math.abs(r))&&Math.abs(i-s)<=1e-6*Math.max(1,Math.abs(i),Math.abs(s))},t}();e.a=i},function(t,e,n){"use strict";var i=function(){function t(t,e){this.createCallback=t,this.releaseCallback=e,this.items=[]}return t.prototype.acquire=function(){return this.items.length?this.items.pop():this.createCallback()},t.prototype.release=function(t){this.releaseCallback&&this.releaseCallback(t),this.items.push(t)},t}();e.a=i},function(t,e,n){"use strict";function i(t,e){var n=s.byId.length,i=new r(n,t,e);return s.byId[n]=i,s.byName[t]=i,i}var a=n(0).d,r=function(){function t(t,e,n){var i=this;this.id=t,this.name=e,this.textureSides=[],a.each(function(t){i.textureSides[t.id]=i.makeTextureSide(n)})}return t.prototype.setSideTile=function(t,e){return this.textureSides[t.id]=this.makeTextureSide(e),this},t.prototype.makeTextureSide=function(t){return[t%16,Math.floor(t/16)]},t}(),s={byId:[],byName:{}};e.a=s,i("air",0),i("stone",1),i("dirt",2),i("grass",3).setSideTile(a.byName.TOP,0).setSideTile(a.byName.BOTTOM,2),i("planks",4),i("brick",7),i("cobble",16),i("bedrock",17),i("sand",18),i("gravel",19),i("wood",20).setSideTile(a.byName.TOP,21).setSideTile(a.byName.BOTTOM,21),i("gold_ore",32),i("iron_ore",33),i("coal_ore",34),i("mossy_cobble",36),i("obsidian",37),i("diamond_ore",50),i("redstone_ore",51),i("stone_brick",54),i("snow",66),i("ice",67),i("snowy_grass",68).setSideTile(a.byName.TOP,66).setSideTile(a.byName.BOTTOM,2),i("fungus",77).setSideTile(a.byName.TOP,78).setSideTile(a.byName.BOTTOM,2),i("mossy_stone_brick",100),i("cracked_stone_brick",101),i("sandstone",192).setSideTile(a.byName.TOP,176).setSideTile(a.byName.BOTTOM,176)},function(t,e,n){"use strict";function i(){return new r.a(function(){return new Uint32Array(a.f*a.g)})}var a=n(0),r=n(2);e.a={mainPool:i(),acquire:function(){return this.mainPool.acquire()},release:function(t){this.mainPool.release(t)},createPrefilledPool:function(t){var e=i();return e.items=t,e}}},function(t,e,n){"use strict";var i=n(0),a=n(2),r=n(1),s=function(){function t(){this.pos=new r.a,this.id="NaN,NaN,NaN",this.blocks=new Uint8Array(i.b)}return t.prototype.setChunkPos=function(t){this.pos.setFrom(t),this.id=t.toString()},t.pool=new a.a(function(){return new t}),t}();e.a=s},function(t,e,n){"use strict";function i(){for(;u.length>0&&h.length>0;){var t=h.shift(),e=u.pop();t.assignedWorkerId=e.workerId,a(e,t)}}function a(t,e){var n=e.onStart();if(n){var a=n.requestPayload,r=n.transferableObjects;s[e.taskId]=e,t.start(e.taskId,e.taskType,a,r,function(n){delete s[e.taskId],u.push(t),i(),e.cancelled?e.onCancelled(n):e.onComplete(n)})}}e.b=function(t,e,n,a){var s=r+=1,o={taskId:s,taskType:t,onStart:e,onComplete:n,onCancelled:a};return h.push(o),i(),s},e.a=function(t){for(var e,n=0;n<h.length;n+=1){var i=h[n];if(i.taskId===t){e=i,h.splice(n,1);break}}if(e)return!0;var a=s[t];return a&&(o[a.assignedWorkerId].cancel(),a.cancelled=!0),!1};!function(){function t(t,e){var n=this;this.worker=t,this.workerId=e,this.worker.addEventListener("message",function(t){var e=t.data;if(e.taskId===n.activeTaskId&&n.onResponse){var i=n.onResponse;n.onResponse=void 0,i(e)}})}t.prototype.start=function(t,e,n,i,a){this.onResponse=a,this.activeTaskId=t,this.activeTaskType=e,n.taskId=t,n.taskType=e,this.worker.postMessage(n,i)},t.prototype.cancel=function(){this.worker.postMessage({cancelTask:this.activeTaskId})}}();var r=0,s={},o=[],u=[],h=[]},function(t,e,n){"use strict";function i(t,e){for(var n=[0,0,0,0],i=0;i<4;i+=1){var a=e.tangents[i].side;if(c.setAdjacentToBlockPos(t,a),c.blockDataSource){c.isTransparent()||(n[i]+=2,n[(i+1)%4]+=2);var r=e.tangents[(i+1)%4].side;d.setAdjacentToBlockPos(c,r),d.blockDataSource&&(d.isTransparent()||(n[(i+1)%4]+=1))}}for(var s=0;s<4;s+=1)n[s]=l[n[s]];return n}var a=n(0),r=n(3),s=n(11),o=n(12),u=n(4),h=n(1),l=[1,.7,.7,.6,.5,.5],c=new s.a(void 0,new h.a(0,0,0)),d=new s.a(void 0,new h.a(0,0,0)),f=function(){function t(t,e,n){this.blockData=t,this.quadIdsByBlockAndSide=e,this.vertexArrayPool=n,this.quadCount=0,this.vertexArrays=[],this.currentVertexArray=void 0}return t.prototype.addVertexArray=function(){var t=new Uint32Array(this.vertexArrayPool.acquire());return this.vertexArrays.push(t),t},t.prototype.addQuad=function(t,e,n,i){var r=this.quadCount;this.quadCount+=1,this.quadCount>this.vertexArrays.length*a.f&&(this.currentVertexArray=this.addVertexArray()),o.a(this.currentVertexArray,r%a.f,t,e,n,i),this.quadIdsByBlockAndSide[6*t.i+e.id]=r+1},t.prototype.drawInternalChunkQuads=function(){var t=this,e=new s.a(void 0,new h.a(0,0,0),this.blockData),n=new s.a(void 0,new h.a(0,0,0),this.blockData);e.eachBlockInChunk(function(){e.isTransparent()||a.d.each(function(a){if(n.setAdjacentToBlockPos(e,a),n.blockDataSource&&n.isTransparent()){var s=r.a.byId[t.blockData[e.i]].textureSides[a.id],o=i(n,a);t.addQuad(e,a,s,o)}})})},t}();e.a={drawInternalChunkQuads:function(t,e,n){void 0===n&&(n=[]);var i=u.a.createPrefilledPool(n),a=new f(t,e,i);return a.drawInternalChunkQuads(),{quadCount:a.quadCount,vertexArrays:a.vertexArrays,unusedVertexArrays:i.items}},unstitchChunk:function(t,e){var n=new s.a;n.eachBlockOnFace(t,e,function(){t.removeQuad(n,e)})},stitchChunks:function(t){function e(t,e){if(t.getQuadId(e)>=0){var n=t.getBlockData(),a=r.a.byId[n].textureSides[e.id];o.setAdjacentToBlockPos(t,e);var s=i(o,e);t.engineChunk.updateQuadAO(t,e,a,s)}}function n(t,e,n){var a=t.getBlockData(),s=r.a.byId[a].textureSides[n.id],o=i(e,n);t.engineChunk.addQuad(t,n,s,o)}for(var o=new s.a(void 0,new h.a(0,0,0)),u=new s.a,l=new s.a,c=0;c<3;c+=1)for(var d=function(i){var r=a.d.byAxis[c][i],s=t.neighboursBySideId[r.id];if(s){u.eachBlockOnFace(t,r,function(){l.setAdjacentToBlockPos(u,r);var t=u.isTransparent(),i=l.isTransparent();!t&&i?n(u,l,r):!i&&t&&n(l,u,r.opposite);for(var a=0;a<r.tangents.length;a+=1){var s=r.tangents[a].side;e(u,s),e(l,s)}});for(var o=c+1;o<3;o+=1)for(var h=function(t){var n=a.d.byAxis[o][t],i=s.neighboursBySideId[n.id];if(i&&(l.eachBlockOnEdge(i,r,n,function(){e(l,r.opposite),e(l,n.opposite);var t=3-r.axis-n.axis;e(l,a.d.byAxis[t][0]),e(l,a.d.byAxis[t][1])}),2!==o))for(var u=0;u<2;u+=1){var h=a.d.byAxis[2][u],c=i.neighboursBySideId[h.id];c&&(l.setBlockOnCorner(c,r,n,h),e(l,r.opposite),e(l,n.opposite),e(l,h.opposite))}},d=0;d<2;d+=1)h(d)}},f=0;f<2;f+=1)d(f)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(9),a=n(10),r=n(13);i.a([a.a,r.a])},function(t,e,n){"use strict";e.a=function(t){var e,n,i=self,a={};t.forEach(function(t){a[t.id]=t}),i.addEventListener("message",function(t){var r=t.data;r.cancelTask||(e?console.error("Worker was messaged to start a new task before finishing the previous task!?"):(e=r.taskId,n=r.taskType,a[n].work(r,function(t,a){t.taskId=e,e=void 0,n=void 0,i.postMessage(t,a)})))})}},function(t,e,n){"use strict";var i=n(5),a=n(6),r=n(7),s=n(4);e.a={id:"TaskDrawInternalVerts",cancel:function(t){a.a(t)},queue:function(t,e,n){return a.b("TaskDrawInternalVerts",function(){var n=e.acquire(),i=[s.a.acquire()];return{requestPayload:{blockData:t.blocks.buffer,quadIdsByBlockAndSide:n.buffer,initialVertexArrays:i.map(function(t){return t.buffer})},transferableObjects:[t.blocks.buffer,n.buffer].concat(i.map(function(t){return t.buffer}))}},function(e){t.blocks=new Uint8Array(e.blockData),e.unusedVertexArrays.map(function(t){return new Uint32Array(t)}).forEach(function(t){s.a.release(t)}),n(e.quadCount,e.vertexArrays.map(function(t){return new Uint32Array(t)}),new Uint16Array(e.quadIdsByBlockAndSide))},function(n){t.blocks=new Uint8Array(n.blockData),i.a.pool.release(t);var a=new Uint16Array(n.quadIdsByBlockAndSide);n.unusedVertexArrays.map(function(t){return new Uint32Array(t)}).forEach(function(t){s.a.release(t)}),n.vertexArrays.map(function(t){return new Uint32Array(t)}).forEach(function(t){s.a.release(t)}),e.release(a)})},work:function(t,e){var n=new Uint8Array(t.blockData),i=new Uint16Array(t.quadIdsByBlockAndSide),a=t.initialVertexArrays.map(function(t){return new Uint32Array(t)});i.fill(0);var s=r.a.drawInternalChunkQuads(n,i,a),o=s.quadCount,u=s.vertexArrays,h=s.unusedVertexArrays;e({blockData:n.buffer,quadCount:o,vertexArrays:u.map(function(t){return t.buffer}),quadIdsByBlockAndSide:i.buffer,unusedVertexArrays:h.map(function(t){return t.buffer})},[n.buffer,i.buffer].concat(u.map(function(t){return t.buffer}),h.map(function(t){return t.buffer})))}}},function(t,e,n){"use strict";var i=n(0),a=n(1),r=n(3),s=function(){function t(t,e,n){this.engineChunk=t,this.pos=e?e.clone():new a.a,this.blockDataOverride=n,this.recalculateIndex()}return t.prototype.clone=function(){return new t(this.engineChunk,this.pos)},t.prototype.recalculateIndex=function(){var t=this.pos.a;this.i=t[0]*i.c+t[2]*i.a+t[1]},Object.defineProperty(t.prototype,"blockDataSource",{get:function(){return this.engineChunk?this.engineChunk.chunkData.blocks:this.blockDataOverride},enumerable:!0,configurable:!0}),t.prototype.getQuadId=function(t){return this.engineChunk?this.engineChunk.quadIdsByBlockAndSide[6*this.i+t.id]-1:-1},t.prototype.getWorldPoint=function(t){t.setFrom(this.engineChunk.worldPos).multiplyScalar(i.a).add(this.pos)},t.prototype.getBlockData=function(){return this.engineChunk?this.engineChunk.chunkData.blocks[this.i]:this.blockDataOverride?this.blockDataOverride[this.i]:0},t.prototype.getBlockType=function(){return r.a.byId[this.getBlockData()]},t.prototype.isOpaque=function(){return 0!==this.getBlockData()},t.prototype.isTransparent=function(){return 0===this.getBlockData()},t.prototype.setAdjacentToBlockPos=function(t,e){this.pos.setFrom(t.pos),this.engineChunk=t.engineChunk,this.blockDataOverride=t.blockDataOverride;var n=t.pos.a[e.axis]+e.axisDelta,a=t.i+e.deltaIndex;if(n<0||n>=i.a){if(this.engineChunk)if(this.engineChunk.neighboursBySideId){var r=this.engineChunk.neighboursBySideId[e.id];this.engineChunk=r}else this.engineChunk=void 0;else this.blockDataOverride=void 0;n+=i.a*-e.axisDelta,a+=i.a*-e.deltaIndex}this.pos.a[e.axis]=n,this.i=a},t.prototype.add=function(t,e,n){if(e>0)for(this.pos.a[1]+=e;this.pos.a[1]>i.a-1;)if(this.engineChunk=this.engineChunk.neighboursBySideId[i.d.byName.TOP.id],this.pos.a[1]-=i.a,!this.engineChunk)return;if(e<0)for(this.pos.a[1]+=e;this.pos.a[1]<0;)if(this.engineChunk=this.engineChunk.neighboursBySideId[i.d.byName.BOTTOM.id],this.pos.a[1]+=i.a,!this.engineChunk)return;if(n>0)for(this.pos.a[2]+=n;this.pos.a[2]>i.a-1;)if(this.engineChunk=this.engineChunk.neighboursBySideId[i.d.byName.NORTH.id],this.pos.a[2]-=i.a,!this.engineChunk)return;if(n<0)for(this.pos.a[2]+=n;this.pos.a[2]<0;)if(this.engineChunk=this.engineChunk.neighboursBySideId[i.d.byName.SOUTH.id],this.pos.a[2]+=i.a,!this.engineChunk)return;if(t>0)for(this.pos.a[0]+=t;this.pos.a[0]>i.a-1;)if(this.engineChunk=this.engineChunk.neighboursBySideId[i.d.byName.EAST.id],this.pos.a[0]-=i.a,!this.engineChunk)return;if(t<0)for(this.pos.a[0]+=t;this.pos.a[0]<0;)if(this.engineChunk=this.engineChunk.neighboursBySideId[i.d.byName.WEST.id],this.pos.a[0]+=i.a,!this.engineChunk)return;this.recalculateIndex()},t.prototype.eachBlockInChunk=function(t){var e=this.pos.a;for(this.i=0,e[0]=0;e[0]<i.a;e[0]+=1)for(e[2]=0;e[2]<i.a;e[2]+=1)for(e[1]=0;e[1]<i.a;e[1]+=1)t(),this.i+=1},t.prototype.eachBlockOnFace=function(t,e,n){this.engineChunk=t;var a=this.pos.a,r=0===e.axis?1:0,s=2===e.axis?1:2;for(a[e.axis]=1===e.axisDelta?i.a-1:0,a[r]=0;a[r]<i.a;a[r]+=1)for(a[s]=0;a[s]<i.a;a[s]+=1)this.recalculateIndex(),n()},t.prototype.eachBlockOnEdge=function(t,e,n,a){this.engineChunk=t;var r=this.pos.a,s=0!==e.axis&&0!==n.axis?0:1!==e.axis&&1!==n.axis?1:2;for(r[e.axis]=1===e.axisDelta?i.a-1:0,r[n.axis]=1===n.axisDelta?i.a-1:0,r[s]=0;r[s]<i.a;r[s]+=1)this.recalculateIndex(),a()},t.prototype.setBlockOnCorner=function(t,e,n,a){this.engineChunk=t;var r=this.pos.a;r[e.axis]=1===e.axisDelta?i.a-1:0,r[n.axis]=1===n.axisDelta?i.a-1:0,r[a.axis]=1===a.axisDelta?i.a-1:0,this.recalculateIndex()},t.prototype.toString=function(){return"BlockPos("+this.pos.toString()+" @ "+(this.engineChunk?this.engineChunk.chunkData.pos.toString():"no-chunk")+")"},t}();e.a=s},function(t,e,n){"use strict";function i(t,e,n,i,r,s){var o=s[0]+s[2]<s[1]+s[3]?1:0,u=i.id,h=n.pos.a[0]|n.pos.a[1]<<5|n.pos.a[2]<<10|u<<15|o<<18,l=Math.floor(15*s[0])|Math.floor(15*s[1])<<4|Math.floor(15*s[2])<<8|Math.floor(15*s[3])<<12|r[0]<<16|r[1]<<20,c=e*a.h;t[c+0]=h,t[c+1]=l}e.a=i;var a=n(0)},function(t,e,n){"use strict";var i=n(1),a=n(5),r=n(6),s=n(14),o=n(7),u=n(4),h=n(16);e.a={id:"TaskGenerateAndMeshChunk",cancel:function(t){r.a(t)},queue:function(t,e){var n;t.toString();return r.b("TaskGenerateAndMeshChunk",function(){(n=a.a.pool.acquire()).setChunkPos(t);var e=h.a.acquire(),i=[u.a.acquire()];return{requestPayload:{chunkPos:[t.a[0],t.a[1],t.a[2]],blockData:n.blocks.buffer,quadIdsByBlockAndSide:e.buffer,initialVertexArrays:i.map(function(t){return t.buffer})},transferableObjects:[n.blocks.buffer,e.buffer].concat(i.map(function(t){return t.buffer}))}},function(t){n.blocks=new Uint8Array(t.blockData),t.unusedVertexArrays.map(function(t){return new Uint32Array(t)}).forEach(function(t){u.a.release(t)});var i=t.quadCount,a=t.vertexArrays.map(function(t){return new Uint32Array(t)}),r=new Uint16Array(t.quadIdsByBlockAndSide);e(n,i,a,r)},function(t){n.blocks=new Uint8Array(t.blockData),a.a.pool.release(n);var e=new Uint16Array(t.quadIdsByBlockAndSide);h.a.release(e),t.unusedVertexArrays.map(function(t){return new Uint32Array(t)}).forEach(function(t){u.a.release(t)}),t.vertexArrays.map(function(t){return new Uint32Array(t)}).forEach(function(t){u.a.release(t)})})},work:function(t,e){var n=t.chunkPos,a=new i.a(n[0],n[1],n[2]),r=new Uint8Array(t.blockData),u=new Uint16Array(t.quadIdsByBlockAndSide),h=t.initialVertexArrays.map(function(t){return new Uint32Array(t)});s.a(a,r),u.fill(0);var l=o.a.drawInternalChunkQuads(r,u,h),c=l.quadCount,d=l.vertexArrays,f=l.unusedVertexArrays;e({blockData:r.buffer,quadCount:c,vertexArrays:d.map(function(t){return t.buffer}),quadIdsByBlockAndSide:u.buffer,unusedVertexArrays:f.map(function(t){return t.buffer})},[r.buffer,u.buffer].concat(d.map(function(t){return t.buffer}),f.map(function(t){return t.buffer})))}}},function(t,e,n){"use strict";e.a=function(t,e){for(var n=0,a=0;a<i.a;a+=1)for(var s=0;s<i.a;s+=1){h.y=0,h.x=a+t.x*i.a,h.z=s+t.z*i.a;for(var o=Math.floor(50*u.getValue(h.x/3-10,h.y/3-10,h.z/3)-50),l=0;l<i.a;l+=1){h.y=l+t.y*i.a;var c=o-h.y,d=void 0;d=c<0?r.a.byName.air.id:c<1?h.y>0?r.a.byName.snow.id:h.y>-40?r.a.byName.stone.id:h.y>-60?r.a.byName.dirt.id:r.a.byName.grass.id:c<2?h.y>0?r.a.byName.snow.id:h.y>-40?r.a.byName.stone.id:(h.y,r.a.byName.dirt.id):r.a.byName.stone.id,e[n]=d,n+=1}}};var i=n(0),a=n(1),r=n(3),s=n(15),o=(n.n(s),s.libnoise.QualityMode.MEDIUM),u=(new s.libnoise.generator.Perlin(.01,2,.5,8,123,o),new s.libnoise.generator.RidgedMultifractal(.01,2,8,123,o)),h=new a.a},function(t,e){!function(t){"use strict";function e(t,e){function n(){}n.prototype=t;var i=new n;for(var a in e)i[a]=e[a];return e.toString!==Object.prototype.toString&&(i.toString=e.toString),i}t.libnoise=t.libnoise||{},t.libnoise.operator=t.libnoise.operator||{},t.libnoise.generator=t.libnoise.generator||{},Math.__name__=!0;var n=function(){};n.__name__=!0,n.sort=function(t,e){n.rec(t,e,0,t.length)},n.rec=function(t,e,i,a){var r=i+a>>1;if(a-i<12){if(a<=i)return;for(var s=i+1,o=a;s<o;)for(var u=s++;u>i&&e(t[u],t[u-1])<0;)n.swap(t,u-1,u),--u}else n.rec(t,e,i,r),n.rec(t,e,r,a),n.doMerge(t,e,i,r,a,r-i,a-r)},n.doMerge=function(t,e,i,a,r,s,o){var u,h,l,c;if(0!=s&&0!=o)if(s+o!=2){s>o?(u=i+(l=s>>1),c=(h=n.lower(t,e,a,r,u))-a):(h=a+(c=o>>1),l=(u=n.upper(t,e,i,a,h))-i),n.rotate(t,e,u,a,h);var d=u+c;n.doMerge(t,e,i,u,d,l,c),n.doMerge(t,e,d,h,r,s-l,o-c)}else e(t[a],t[i])<0&&n.swap(t,a,i)},n.rotate=function(t,e,i,a,r){if(i!=a&&a!=r)for(var s=n.gcd(r-i,a-i);0!=s--;){for(var o=t[i+s],u=a-i,h=i+s,l=i+s+u;l!=i+s;)t[h]=t[l],h=l,r-l>u?l+=u:l=i+(u-(r-l));t[h]=o}},n.gcd=function(t,e){for(;0!=e;){var n=t%e;t=e,e=n}return t},n.upper=function(t,e,n,i,a){for(var r,s,o=i-n;o>0;)s=n+(r=o>>1),e(t[a],t[s])<0?o=r:(n=s+1,o=o-r-1);return n},n.lower=function(t,e,n,i,a){for(var r,s,o=i-n;o>0;)e(t[s=n+(r=o>>1)],t[a])<0?(n=s+1,o=o-r-1):o=r;return n},n.swap=function(t,e,n){var i=t[e];t[e]=t[n],t[n]=i};var i=function(t){Error.call(this),this.val=t,this.message=String(t),Error.captureStackTrace&&Error.captureStackTrace(this,i)};i.__name__=!0,i.wrap=function(t){return t instanceof Error?t:new i(t)},i.__super__=Error,i.prototype=e(Error.prototype,{});var a=function(){};a.__name__=!0,a.__string_rec=function(t,e){if(null==t)return"null";if(e.length>=5)return"<...>";var n=typeof t;switch("function"==n&&(t.__name__||t.__ename__)&&(n="object"),n){case"function":return"<function>";case"object":if(t instanceof Array){if(t.__enum__){if(2==t.length)return t[0];var i=t[0]+"(";e+="\t";for(var r=2,s=t.length;r<s;){var o=r++;i+=2!=o?","+a.__string_rec(t[o],e):a.__string_rec(t[o],e)}return i+")"}var u="[";e+="\t";for(var h=0,l=t.length;h<l;){var c=h++;u+=(c>0?",":"")+a.__string_rec(t[c],e)}return u+="]"}var d;try{d=t.toString}catch(t){return"???"}if(null!=d&&d!=Object.toString&&"function"==typeof d){var f=t.toString();if("[object Object]"!=f)return f}var p=null,y="{\n";e+="\t";var _=null!=t.hasOwnProperty;for(var p in t)_&&!t.hasOwnProperty(p)||"prototype"!=p&&"__class__"!=p&&"__super__"!=p&&"__interfaces__"!=p&&"__properties__"!=p&&(2!=y.length&&(y+=", \n"),y+=e+p+" : "+a.__string_rec(t[p],e));return e=e.substring(1),y+="\n"+e+"}";case"string":return t;default:return String(t)}};var r=t.libnoise.ModuleBase=function(t){if(t>0){var e=new Array(t);this.modules=e}};r.__name__=!0,r.prototype={get:function(t){return this.modules[t]},set:function(t,e){return this.modules[t]=e},length:function(){return this.modules.length},getValue:function(t,e,n){throw new i("ModuleBase.getValue is an abstract method")}};var s={__ename__:!0,__constructs__:["LOW","MEDIUM","HIGH"]};s.LOW=["LOW",0],s.LOW.__enum__=s,s.MEDIUM=["MEDIUM",1],s.MEDIUM.__enum__=s,s.HIGH=["HIGH",2],s.HIGH.__enum__=s;var o=t.libnoise.QualityMode=function(){};o.__name__=!0;var u=t.libnoise.Utils=function(){};u.__name__=!0,u.GradientCoherentNoise3D=function(t,e,n,i,a){var r=t>0?0|t:(0|t)-1,s=r+1,o=e>0?0|e:(0|e)-1,h=o+1,l=n>0?0|n:(0|n)-1,c=l+1,d=0,f=0,p=0;switch(a[1]){case 0:d=t-r,f=e-o,p=n-l;break;case 1:var y=t-r;d=y*y*(3-2*y);var _=e-o;f=_*_*(3-2*_);var g=n-l;p=g*g*(3-2*g);break;case 2:d=u.MapQuinticSCurve(t-r),f=u.MapQuinticSCurve(e-o),p=u.MapQuinticSCurve(n-l)}var v=u.GradientNoise3D(t,e,n,r,o,l,i),m=u.GradientNoise3D(t,e,n,s,o,l,i),b=u.InterpolateLinear(v,m,d);v=u.GradientNoise3D(t,e,n,r,h,l,i),m=u.GradientNoise3D(t,e,n,s,h,l,i);var k=u.InterpolateLinear(v,m,d),x=u.InterpolateLinear(b,k,f);v=u.GradientNoise3D(t,e,n,r,o,c,i),m=u.GradientNoise3D(t,e,n,s,o,c,i),b=u.InterpolateLinear(v,m,d),v=u.GradientNoise3D(t,e,n,r,h,c,i),m=u.GradientNoise3D(t,e,n,s,h,c,i),k=u.InterpolateLinear(v,m,d);var M=u.InterpolateLinear(b,k,f);return u.InterpolateLinear(x,M,p)},u.GradientNoise3D=function(t,e,n,i,a,r,s){var o=u.GeneratorNoiseX*i+u.GeneratorNoiseY*a+u.GeneratorNoiseZ*r+u.GeneratorSeed*s&-1;return o^=o>>u.GeneratorShift,o&=255,2.12*(u.Randoms[o<<2]*(t-i)+u.Randoms[1+(o<<2)]*(e-a)+u.Randoms[2+(o<<2)]*(n-r))},u.InterpolateCubic=function(t,e,n,i,a){var r=i-n-(t-e);return r*a*a*a+(t-e-r)*a*a+(n-t)*a+e},u.InterpolateLinear=function(t,e,n){return(1-n)*t+n*e},u.fmod=function(t,e){return t-(t/e|0)*e},u.MakeInt32Range=function(t){return t>=1073741824?2*(t-1073741824*(t/1073741824|0))-1073741824:t<=-1073741824?2*(t-1073741824*(t/1073741824|0))+1073741824:t},u.MapCubicSCurve=function(t){return t*t*(3-2*t)},u.MapQuinticSCurve=function(t){var e=t*t*t,n=e*t;return 6*(n*t)-15*n+10*e},u.ValueNoise3D=function(t,e,n,i){return 1-u.ValueNoise3DInt(t,e,n,i)/1073741824},u.ValueNoise3DInt=function(t,e,n,i){var a=u.GeneratorNoiseX*t+u.GeneratorNoiseY*e+u.GeneratorNoiseZ*n+u.GeneratorSeed*i&2147483647;return(a^=a>>13)*(a*a*60493+19990303)+1376312589&2147483647},u.Clamp=function(t,e,n){return t<e?e:t>n?n:t};var h=t.libnoise.generator.Billow=function(t,e,n,i,a,s){this.frequency=t,this.lacunarity=e,this.persistence=n,this.octaves=i,this.seed=a,this.quality=s,r.call(this,0)};h.__name__=!0,h.__super__=r,h.prototype=e(r.prototype,{getValue:function(t,e,n){var i=0,a=1;t*=this.frequency,e*=this.frequency,n*=this.frequency;for(var r=0,s=this.octaves;r<s;){var o=r++,h=u.MakeInt32Range(t),l=u.MakeInt32Range(e),c=u.MakeInt32Range(n),d=this.seed+o&-1,f=u.GradientCoherentNoise3D(h,l,c,d,this.quality);i+=(f=2*Math.abs(f)-1)*a,t*=this.lacunarity,e*=this.lacunarity,n*=this.lacunarity,a*=this.persistence}return i+.5}});var l=t.libnoise.generator.Checker=function(){r.call(this,0)};l.__name__=!0,l.__super__=r,l.prototype=e(r.prototype,{getValue:function(t,e,n){return 0!=(1&(1&(1&(0|Math.floor(u.MakeInt32Range(t)))^(0|Math.floor(u.MakeInt32Range(e))))^(0|Math.floor(u.MakeInt32Range(n)))))?-1:1}});var c=t.libnoise.generator.Const=function(t){r.call(this,0),this.value=t};c.__name__=!0,c.__super__=r,c.prototype=e(r.prototype,{getValue:function(t,e,n){return this.value}});var d=t.libnoise.generator.Cylinder=function(t){this.frequency=1,r.call(this,0),this.frequency=t};d.__name__=!0,d.__super__=r,d.prototype=e(r.prototype,{getValue:function(t,e,n){t*=this.frequency,n*=this.frequency;var i=Math.sqrt(t*t+n*n),a=i-Math.floor(i),r=1-a;return 1-4*Math.min(a,r)}});var f=t.libnoise.generator.Perlin=function(t,e,n,i,a,s){this.frequency=t,this.lacunarity=e,this.persistence=n,this.octaves=i,this.seed=a,this.quality=s,r.call(this,0)};f.__name__=!0,f.__super__=r,f.prototype=e(r.prototype,{getValue:function(t,e,n){var i=0,a=1;t*=this.frequency,e*=this.frequency,n*=this.frequency;for(var r=0,s=this.octaves;r<s;){var o=r++,h=u.MakeInt32Range(t),l=u.MakeInt32Range(e),c=u.MakeInt32Range(n),d=this.seed+o&-1;i+=u.GradientCoherentNoise3D(h,l,c,d,this.quality)*a,t*=this.lacunarity,e*=this.lacunarity,n*=this.lacunarity,a*=this.persistence}return i}});var p=t.libnoise.generator.RidgedMultifractal=function(t,e,n,i,a){var s=new Array(30);this.weights=s,this.frequency=t,this.lacunarity=e,this.octaves=n,this.seed=i,this.quality=a,this.updateWeights(),r.call(this,0)};p.__name__=!0,p.__super__=r,p.prototype=e(r.prototype,{getValue:function(t,e,n){t*=this.frequency,e*=this.frequency,n*=this.frequency;for(var i=0,a=1,r=0,s=this.octaves;r<s;){var o=r++,h=u.MakeInt32Range(t),l=u.MakeInt32Range(e),c=u.MakeInt32Range(n),d=this.seed+o&2147483647,f=u.GradientCoherentNoise3D(h,l,c,d,this.quality);f=1-(f=Math.abs(f)),f*=f,a=(a=2*(f*=a))>1?1:a<0?0:a,i+=f*this.weights[o],t*=this.lacunarity,e*=this.lacunarity,n*=this.lacunarity}return 1.25*i-1},updateWeights:function(){for(var t=1,e=0,n=this.weights.length;e<n;){var i=e++;this.weights[i]=Math.pow(t,-1),t*=this.lacunarity}}});var y=t.libnoise.generator.Sphere=function(t){this.frequency=1,r.call(this,0),this.frequency=t};y.__name__=!0,y.__super__=r,y.prototype=e(r.prototype,{getValue:function(t,e,n){t*=this.frequency,e*=this.frequency,n*=this.frequency;var i=Math.sqrt(t*t+e*e+n*n),a=i-Math.floor(i),r=1-a;return 1-4*Math.min(a,r)}});var _=t.libnoise.generator.Voronoi=function(t,e,n,i){this.frequency=t,this.displacement=e,this.seed=n,this.distance=i,r.call(this,0)};_.__name__=!0,_.__super__=r,_.prototype=e(r.prototype,{getValue:function(t,e,n){t*=this.frequency,e*=this.frequency,n*=this.frequency;for(var i=t>0?0|t:t-1|0,a=e>0?0|e:e-1|0,r=n>0?0|n:n-1|0,s=2147483647,o=0,h=0,l=0,c=r-2,d=r+3;c<d;)for(var f=c++,p=a-2,y=a+3;p<y;)for(var _=p++,g=i-2,v=i+3;g<v;){var m=g++,b=m+(1-u.ValueNoise3DInt(m,_,f,this.seed)/1073741824),k=_+(1-u.ValueNoise3DInt(m,_,f,this.seed+1)/1073741824),x=f+(1-u.ValueNoise3DInt(m,_,f,this.seed+2)/1073741824),M=b-t,I=k-e,S=x-n,w=M*M+I*I+S*S;w<s&&(s=w,o=b,h=k,l=x)}var T;if(this.distance){var V=o-t,A=h-e,C=l-n;T=1.7320508075688772*Math.sqrt(V*V+A*A+C*C)-1}else T=0;return T+this.displacement*(1-u.ValueNoise3DInt(0|Math.floor(o),0|Math.floor(h),0|Math.floor(l),0)/1073741824)}});var g=t.libnoise.operator.Abs=function(t){r.call(this,1),this.modules[0]=t};g.__name__=!0,g.__super__=r,g.prototype=e(r.prototype,{getValue:function(t,e,n){return Math.abs(this.modules[0].getValue(t,e,n))}});var v=t.libnoise.operator.Add=function(t,e){r.call(this,2),this.modules[0]=t,this.modules[1]=e};v.__name__=!0,v.__super__=r,v.prototype=e(r.prototype,{getValue:function(t,e,n){return this.modules[0].getValue(t,e,n)+this.modules[1].getValue(t,e,n)}});var m=t.libnoise.operator.Blend=function(t,e,n){r.call(this,3),this.modules[0]=t,this.modules[1]=e,this.modules[2]=n};m.__name__=!0,m.__super__=r,m.prototype=e(r.prototype,{set_controller:function(t){return this.modules[2]=t},get_controller:function(){return this.modules[2]},getValue:function(t,e,n){var i=this.modules[0].getValue(t,e,n),a=this.modules[1].getValue(t,e,n),r=(this.modules[2].getValue(t,e,n)+1)/2;return u.InterpolateLinear(i,a,r)}});var b=t.libnoise.operator.Cache=function(t){r.call(this,1),this.modules[0]=t};b.__name__=!0,b.__super__=r,b.prototype=e(r.prototype,{getValue:function(t,e,n){return this.cached&&this.cx==t&&this.cy==e&&this.cz==n||(this.value=this.modules[0].getValue(t,e,n),this.cx=t,this.cy=e,this.cz=n),this.cached=!0,this.value}});var k=t.libnoise.operator.Clamp=function(t,e,n){this.max=1,this.min=-1,r.call(this,1),this.modules[0]=n,this.min=t,this.max=e};k.__name__=!0,k.__super__=r,k.prototype=e(r.prototype,{getValue:function(t,e,n){var i=this.modules[0].getValue(t,e,n);return i<this.min?this.min:i>this.max?this.max:i}});var x=t.libnoise.operator.Curve=function(t){r.call(this,1),this.modules[0]=t,this.data=[]};x.__name__=!0,x.__super__=r,x.prototype=e(r.prototype,{controlPointCount:function(){return this.data.length},add:function(t,e){var i=new Array(2);i[0]=t,i[1]=e;for(var a=0,r=this.data;a<r.length;){var s=r[a];if(++a,s[0]==t)return}this.data.push(i),n.sort(this.data,function(t,e){return t[0]<e[0]?-1:t[0]==e[0]?0:1})},clear:function(){this.data=[]},getValue:function(t,e,n){for(var i=this.modules[0].getValue(t,e,n),a=0,r=0,s=this.data.length;r<s;){r++;if(i<this.data[a++][0])break}var o=a-2,h=this.data.length-1,l=o<0?0:o>h?h:o,c=a-1,d=this.data.length-1,f=c<0?0:c>d?d:c,p=this.data.length-1,y=a<0?0:a>p?p:a,_=a+1,g=this.data.length-1,v=_<0?0:_>g?g:_;if(f==y)return this.data[f][1];var m=this.data[f][0],b=(i-m)/(this.data[y][0]-m);return u.InterpolateCubic(this.data[l][1],this.data[f][1],this.data[y][1],this.data[v][1],b)}});var M=t.libnoise.operator.Displace=function(t,e,n,i){this.exponent=1,r.call(this,4),this.modules[0]=t,this.modules[1]=e,this.modules[2]=n,this.modules[3]=i};M.__name__=!0,M.__super__=r,M.prototype=e(r.prototype,{set_X:function(t){return this.modules[1]=t},get_X:function(){return this.modules[1]},set_Y:function(t){return this.modules[2]=t},get_Y:function(){return this.modules[2]},set_Z:function(t){return this.modules[3]=t},get_Z:function(){return this.modules[3]},getValue:function(t,e,n){var i=t+this.modules[1].getValue(t,e,n),a=e+this.modules[2].getValue(t,e,n),r=n+this.modules[3].getValue(t,e,n);return this.modules[0].getValue(i,a,r)}});var I=t.libnoise.operator.Exponent=function(t,e){this.exponent=1,r.call(this,1),this.modules[0]=e,this.exponent=t};I.__name__=!0,I.__super__=r,I.prototype=e(r.prototype,{getValue:function(t,e,n){var i=this.modules[0].getValue(t,e,n);return 2*Math.pow(Math.abs((i+1)/2),this.exponent)-1}});var S=t.libnoise.operator.Invert=function(t){r.call(this,1),this.modules[0]=t};S.__name__=!0,S.__super__=r,S.prototype=e(r.prototype,{getValue:function(t,e,n){return-this.modules[0].getValue(t,e,n)}});var w=t.libnoise.operator.Max=function(t,e){r.call(this,2),this.modules[0]=t,this.modules[1]=e};w.__name__=!0,w.__super__=r,w.prototype=e(r.prototype,{getValue:function(t,e,n){var i=this.modules[0].getValue(t,e,n),a=this.modules[1].getValue(t,e,n);return Math.max(i,a)}});var T=t.libnoise.operator.Min=function(t,e){r.call(this,2),this.modules[0]=t,this.modules[1]=e};T.__name__=!0,T.__super__=r,T.prototype=e(r.prototype,{getValue:function(t,e,n){var i=this.modules[0].getValue(t,e,n),a=this.modules[1].getValue(t,e,n);return Math.min(i,a)}});var V=t.libnoise.operator.Multiply=function(t,e){r.call(this,2),this.modules[0]=t,this.modules[1]=e};V.__name__=!0,V.__super__=r,V.prototype=e(r.prototype,{getValue:function(t,e,n){return this.modules[0].getValue(t,e,n)*this.modules[1].getValue(t,e,n)}});var A=t.libnoise.operator.Power=function(t,e){r.call(this,2),this.modules[0]=t,this.modules[1]=e};A.__name__=!0,A.__super__=r,A.prototype=e(r.prototype,{getValue:function(t,e,n){return Math.pow(this.modules[0].getValue(t,e,n),this.modules[1].getValue(t,e,n))}});var C=t.libnoise.operator.Rotate=function(t,e,n,i){null==n&&(n=0),null==e&&(e=0),null==t&&(t=0),r.call(this,1),this.modules[0]=i,this.rx=t,this.ry=e,this.rz=n,this.setAngles(t,e,n)};C.__name__=!0,C.__super__=r,C.prototype=e(r.prototype,{setAngles:function(t,e,n){var i=Math.cos(.01745329251*t),a=Math.cos(.01745329251*e),r=Math.cos(.01745329251*n),s=Math.sin(.01745329251*t),o=Math.sin(.01745329251*e),u=Math.sin(.01745329251*n);this.x1Matrix=o*s*u+a*r,this.y1Matrix=i*u,this.z1Matrix=o*r-a*s*u,this.x2Matrix=o*s*r-a*u,this.y2Matrix=i*r,this.z2Matrix=-a*s*r-o*u,this.x3Matrix=-o*i,this.y3Matrix=s,this.z3Matrix=a*i,this.rx=t,this.ry=e,this.rz=n},getValue:function(t,e,n){var i=this.x1Matrix*t+this.y1Matrix*e+this.z1Matrix*n,a=this.x2Matrix*t+this.y2Matrix*e+this.z2Matrix*n,r=this.x3Matrix*t+this.y3Matrix*e+this.z3Matrix*n;return this.modules[0].getValue(i,a,r)}});var D=t.libnoise.operator.Scale=function(t,e,n,i){null==n&&(n=1),null==e&&(e=1),null==t&&(t=1),r.call(this,1),this.modules[0]=i,this.sx=t,this.sy=e,this.sz=n};D.__name__=!0,D.__super__=r,D.prototype=e(r.prototype,{getValue:function(t,e,n){return this.modules[0].getValue(t*this.sx,e*this.sy,n*this.sz)}});var B=t.libnoise.operator.ScaleBias=function(t,e,n){null==e&&(e=0),null==t&&(t=1),r.call(this,1),this.modules[0]=n,this.scale=t,this.bias=e};B.__name__=!0,B.__super__=r,B.prototype=e(r.prototype,{getValue:function(t,e,n){return this.modules[0].getValue(t,e,n)*this.scale+this.bias}});var N=t.libnoise.operator.Select=function(t,e,n,i,a,s){null==n&&(n=0),null==e&&(e=1),null==t&&(t=-1),this.max=1,this.min=-1,r.call(this,3),this.modules[0]=i,this.modules[1]=a,this.modules[2]=s,this.min=t,this.max=e,this.fallOff=n};N.__name__=!0,N.__super__=r,N.prototype=e(r.prototype,{getValue:function(t,e,n){var i=this.modules[2].getValue(t,e,n);if(this.fallOff>0){var a;if(i<this.min-this.fallOff)return this.modules[0].getValue(t,e,n);if(i<this.min+this.fallOff){var r=this.min-this.fallOff,s=(i-r)/(this.min+this.fallOff-r);return a=s*s*(3-2*s),u.InterpolateLinear(this.modules[0].getValue(t,e,n),this.modules[1].getValue(t,e,n),a)}if(i<this.max-this.fallOff)return this.modules[1].getValue(t,e,n);if(i<this.max+this.fallOff){var o=this.max-this.fallOff,h=(i-o)/(this.max+this.fallOff-o);return a=h*h*(3-2*h),u.InterpolateLinear(this.modules[1].getValue(t,e,n),this.modules[0].getValue(t,e,n),a)}return this.modules[0].getValue(t,e,n)}return i<this.min||i>this.max?this.modules[0].getValue(t,e,n):this.modules[1].getValue(t,e,n)}});var q=t.libnoise.operator.Subtract=function(t,e){r.call(this,2),this.modules[0]=t,this.modules[1]=e};q.__name__=!0,q.__super__=r,q.prototype=e(r.prototype,{getValue:function(t,e,n){return this.modules[0].getValue(t,e,n)-this.modules[1].getValue(t,e,n)}});var O=t.libnoise.operator.Terrace=function(t,e){null==e&&(e=!1),r.call(this,1),this.modules[0]=t,this.inverted=e,this.data=[]};O.__name__=!0,O.__super__=r,O.prototype=e(r.prototype,{controlPointCount:function(){return this.data.length},clear:function(){this.data=[]},add:function(t){for(var e=0,i=this.data;e<i.length;){var a=i[e];if(++e,a==t)return}this.data.push(t),n.sort(this.data,function(t,e){return t<e?-1:t==e?0:1})},generate:function(t){this.clear();for(var e=2/(t-1),n=-1,i=0,a=t;i<a;){i++;this.add(n),n+=e}},getValue:function(t,e,n){for(var i=this.modules[0].getValue(t,e,n),a=0,r=0,s=this.data.length;r<s;){r++;if(i<this.data[a++])break}var o=a-1<0?0:a-1>this.data.length-1?this.data.length-1:a-1,h=a<0?0:a>this.data.length-1?this.data.length-1:a;if(o==h)return this.data[h];var l=this.data[o],c=this.data[h],d=(i-l)/(c-l);if(this.inverted){d=1-d;var f=l;l=c,c=f}return d*=d,u.InterpolateLinear(l,c,d)}});var E=t.libnoise.operator.Translate=function(t,e,n,i){this.dz=1,this.dy=1,this.dx=1,r.call(this,1),this.modules[0]=i,this.dx=t,this.dy=e,this.dz=n};E.__name__=!0,E.__super__=r,E.prototype=e(r.prototype,{getValue:function(t,e,n){return this.modules[0].getValue(t+this.dx,e+this.dy,n+this.dz)}});var P=t.libnoise.operator.Turbulence=function(t,e,n,i,a){this.power=1,r.call(this,1),this.modules[0]=e,this.power=t,this.xDistort=null==n?new f(1,2,.5,6,123,s.MEDIUM):n,this.yDistort=null==i?new f(1,2,.5,6,123,s.MEDIUM):i,this.zDistort=null==a?new f(1,2,.5,6,123,s.MEDIUM):a};P.__name__=!0,P.__super__=r,P.prototype=e(r.prototype,{setFrequency:function(t){this.xDistort.frequency=t,this.yDistort.frequency=t,this.zDistort.frequency=t},setRoughness:function(t){this.xDistort.octaves=t,this.yDistort.octaves=t,this.zDistort.octaves=t},setSeed:function(t){this.xDistort.seed=t,this.yDistort.seed=t,this.zDistort.seed=t},getValue:function(t,e,n){var i=t+this.xDistort.getValue(t+.189422607421875,e+.99371337890625,n+.4781646728515625)*this.power,a=e+this.yDistort.getValue(t+.4046478271484375,e+.276611328125,n+.9230499267578125)*this.power,r=n+this.zDistort.getValue(t+.82122802734375,e+.1710968017578125,n+.6842803955078125)*this.power;return this.modules[0].getValue(i,a,r)}}),String.__name__=!0,Array.__name__=!0,o.LOW=s.LOW,o.MEDIUM=s.MEDIUM,o.HIGH=s.HIGH,u.SQRT3=1.7320508075688772,u.OctavesMaximum=30,u.Deg2Rad=.01745329251,u.GeneratorNoiseX=1619,u.GeneratorNoiseY=31337,u.GeneratorNoiseZ=6971,u.GeneratorSeed=1013,u.GeneratorShift=8,u.Randoms=[-.763874,-.596439,-.246489,0,.396055,.904518,-.158073,0,-.499004,-.8665,-.0131631,0,.468724,-.824756,.316346,0,.829598,.43195,.353816,0,-.454473,.629497,-.630228,0,-.162349,-.869962,-.465628,0,.932805,.253451,.256198,0,-.345419,.927299,-.144227,0,-.715026,-.293698,-.634413,0,-.245997,.717467,-.651711,0,-.967409,-.250435,-.037451,0,.901729,.397108,-.170852,0,.892657,-.0720622,-.444938,0,.0260084,-.0361701,.999007,0,.949107,-.19486,.247439,0,.471803,-.807064,-.355036,0,.879737,.141845,.453809,0,.570747,.696415,.435033,0,-.141751,-.988233,-.0574584,0,-.58219,-.0303005,.812488,0,-.60922,.239482,-.755975,0,.299394,-.197066,-.933557,0,-.851615,-.220702,-.47544,0,.848886,.341829,-.403169,0,-.156129,-.687241,.709453,0,-.665651,.626724,.405124,0,.595914,-.674582,.43569,0,.171025,-.509292,.843428,0,.78605,.536414,-.307222,0,.18905,-.791613,.581042,0,-.294916,.844994,.446105,0,.342031,-.58736,-.7335,0,.57155,.7869,.232635,0,.885026,-.408223,.223791,0,-.789518,.571645,.223347,0,.774571,.31566,.548087,0,-.79695,-.0433603,-.602487,0,-.142425,-.473249,-.869339,0,-.0698838,.170442,.982886,0,.687815,-.484748,.540306,0,.543703,-.534446,-.647112,0,.97186,.184391,-.146588,0,.707084,.485713,-.513921,0,.942302,.331945,.043348,0,.499084,.599922,.625307,0,-.289203,.211107,.9337,0,.412433,-.71667,-.56239,0,.87721,-.082816,.47291,0,-.420685,-.214278,.881538,0,.752558,-.0391579,.657361,0,.0765725,-.996789,.0234082,0,-.544312,-.309435,-.779727,0,-.455358,-.415572,.787368,0,-.874586,.483746,.0330131,0,.245172,-.0838623,.965846,0,.382293,-.432813,.81641,0,-.287735,-.905514,.311853,0,-.667704,.704955,-.239186,0,.717885,-.464002,-.518983,0,.976342,-.214895,.0240053,0,-.0733096,-.921136,.382276,0,-.986284,.151224,-.0661379,0,-.899319,-.429671,.0812908,0,.652102,-.724625,.222893,0,.203761,.458023,-.865272,0,-.030396,.698724,-.714745,0,-.460232,.839138,.289887,0,-.0898602,.837894,.538386,0,-.731595,.0793784,.677102,0,-.447236,-.788397,.422386,0,.186481,.645855,-.740335,0,-.259006,.935463,.240467,0,.445839,.819655,-.359712,0,.349962,.755022,-.554499,0,-.997078,-.0359577,.0673977,0,-.431163,-.147516,-.890133,0,.299648,-.63914,.708316,0,.397043,.566526,-.722084,0,-.502489,.438308,-.745246,0,.0687235,.354097,.93268,0,-.0476651,-.462597,.885286,0,-.221934,.900739,-.373383,0,-.956107,-.225676,.186893,0,-.187627,.391487,-.900852,0,-.224209,-.315405,.92209,0,-.730807,-.537068,.421283,0,-.0353135,-.816748,.575913,0,-.941391,.176991,-.287153,0,-.154174,.390458,.90762,0,-.283847,.533842,.796519,0,-.482737,-.850448,.209052,0,-.649175,.477748,.591886,0,.885373,-.405387,-.227543,0,-.147261,.181623,-.972279,0,.0959236,-.115847,-.988624,0,-.89724,-.191348,.397928,0,.903553,-.428461,-.00350461,0,.849072,-.295807,-.437693,0,.65551,.741754,-.141804,0,.61598,-.178669,.767232,0,.0112967,.932256,-.361623,0,-.793031,.258012,.551845,0,.421933,.454311,.784585,0,-.319993,.0401618,-.946568,0,-.81571,.551307,-.175151,0,-.377644,.00322313,.925945,0,.129759,-.666581,-.734052,0,.601901,-.654237,-.457919,0,-.927463,-.0343576,-.372334,0,-.438663,-.868301,-.231578,0,-.648845,-.749138,-.133387,0,.507393,-.588294,.629653,0,.726958,.623665,.287358,0,.411159,.367614,-.834151,0,.806333,.585117,-.0864016,0,.263935,-.880876,.392932,0,.421546,-.201336,.884174,0,-.683198,-.569557,-.456996,0,-.117116,-.0406654,-.992285,0,-.643679,-.109196,-.757465,0,-.561559,-.62989,.536554,0,.0628422,.104677,-.992519,0,.480759,-.2867,-.828658,0,-.228559,-.228965,-.946222,0,-.10194,-.65706,-.746914,0,.0689193,-.678236,.731605,0,.401019,-.754026,.52022,0,-.742141,.547083,-.387203,0,-.00210603,-.796417,-.604745,0,.296725,-.409909,-.862513,0,-.260932,-.798201,.542945,0,-.641628,.742379,.192838,0,-.186009,-.101514,.97729,0,.106711,-.962067,.251079,0,-.743499,.30988,-.592607,0,-.795853,-.605066,-.0226607,0,-.828661,-.419471,-.370628,0,.0847218,-.489815,-.8677,0,-.381405,.788019,-.483276,0,.282042,-.953394,.107205,0,.530774,.847413,.0130696,0,.0515397,.922524,.382484,0,-.631467,-.709046,.313852,0,.688248,.517273,.508668,0,.646689,-.333782,-.685845,0,-.932528,-.247532,-.262906,0,.630609,.68757,-.359973,0,.577805,-.394189,.714673,0,-.887833,-.437301,-.14325,0,.690982,.174003,.701617,0,-.866701,.0118182,.498689,0,-.482876,.727143,.487949,0,-.577567,.682593,-.447752,0,.373768,.0982991,.922299,0,.170744,.964243,-.202687,0,.993654,-.035791,-.106632,0,.587065,.4143,-.695493,0,-.396509,.26509,-.878924,0,-.0866853,.83553,-.542563,0,.923193,.133398,-.360443,0,.00379108,-.258618,.965972,0,.239144,.245154,-.939526,0,.758731,-.555871,.33961,0,.295355,.309513,.903862,0,.0531222,-.91003,-.411124,0,.270452,.0229439,-.96246,0,.563634,.0324352,.825387,0,.156326,.147392,.976646,0,-.0410141,.981824,.185309,0,-.385562,-.576343,-.720535,0,.388281,.904441,.176702,0,.945561,-.192859,-.262146,0,.844504,.520193,.127325,0,.0330893,.999121,-.0257505,0,-.592616,-.482475,-.644999,0,.539471,.631024,-.557476,0,.655851,-.027319,-.754396,0,.274465,.887659,.369772,0,-.123419,.975177,-.183842,0,-.223429,.708045,.66989,0,-.908654,.196302,.368528,0,-.95759,-.00863708,.288005,0,.960535,.030592,.276472,0,-.413146,.907537,.0754161,0,-.847992,.350849,-.397259,0,.614736,.395841,.68221,0,-.503504,-.666128,-.550234,0,-.268833,-.738524,-.618314,0,.792737,-.60001,-.107502,0,-.637582,.508144,-.579032,0,.750105,.282165,-.598101,0,-.351199,-.392294,-.850155,0,.250126,-.960993,-.118025,0,-.732341,.680909,-.0063274,0,-.760674,-.141009,.633634,0,.222823,-.304012,.926243,0,.209178,.505671,.836984,0,.757914,-.56629,-.323857,0,-.782926,-.339196,.52151,0,-.462952,.585565,.665424,0,.61879,.194119,-.761194,0,.741388,-.276743,.611357,0,.707571,.702621,.0752872,0,.156562,.819977,.550569,0,-.793606,.440216,.42,0,.234547,.885309,-.401517,0,.132598,.80115,-.58359,0,-.377899,-.639179,.669808,0,-.865993,-.396465,.304748,0,-.624815,-.44283,.643046,0,-.485705,.825614,-.287146,0,-.971788,.175535,.157529,0,-.456027,.392629,.798675,0,-.0104443,.521623,-.853112,0,-.660575,-.74519,.091282,0,-.0157698,-.307475,-.951425,0,-.603467,-.250192,.757121,0,.506876,.25006,.824952,0,.255404,.966794,.00884498,0,.466764,-.874228,-.133625,0,.475077,-.0682351,-.877295,0,-.224967,-.938972,-.260233,0,-.377929,-.814757,-.439705,0,-.305847,.542333,-.782517,0,.26658,-.902905,-.337191,0,.0275773,.322158,-.946284,0,.0185422,.716349,.697496,0,-.20483,.978416,.0273371,0,-.898276,.373969,.230752,0,-.00909378,.546594,.837349,0,.6602,-.751089,959236e-9,0,.855301,-.303056,.420259,0,.797138,.0623013,-.600574,0,.48947,-.866813,.0951509,0,.251142,.674531,.694216,0,-.578422,-.737373,-.348867,0,-.254689,-.514807,.818601,0,.374972,.761612,.528529,0,.640303,-.734271,-.225517,0,-.638076,.285527,.715075,0,.772956,-.15984,-.613995,0,.798217,-.590628,.118356,0,-.986276,-.0578337,-.154644,0,-.312988,-.94549,.0899272,0,-.497338,.178325,.849032,0,-.101136,-.981014,.165477,0,-.521688,.0553434,-.851339,0,-.786182,-.583814,.202678,0,-.565191,.821858,-.0714658,0,.437895,.152598,-.885981,0,-.92394,.353436,-.14635,0,.212189,-.815162,-.538969,0,-.859262,.143405,-.491024,0,.991353,.112814,.0670273,0,.0337884,-.979891,-.196654,0],P.X0=.189422607421875,P.Y0=.99371337890625,P.Z0=.4781646728515625,P.X1=.4046478271484375,P.Y1=.276611328125,P.Z1=.9230499267578125,P.X2=.82122802734375,P.Y2=.1710968017578125,P.Z2=.6842803955078125}(e)},function(t,e,n){"use strict";var i=n(0),a=new(n(2).a)(function(){return new Uint16Array(i.b*i.e)});e.a=a}]);
//# sourceMappingURL=worker.js.map